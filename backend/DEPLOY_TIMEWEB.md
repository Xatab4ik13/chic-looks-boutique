# VOX Backend ‚Äî –ø–æ–ª–Ω—ã–π –≥–∞–π–¥ –¥–µ–ø–ª–æ—è –Ω–∞ TimeWeb VPS

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-vps)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](#2-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
3. [–ó–∞–≥—Ä—É–∑–∫–∞ –±—ç–∫–µ–Ω–¥–∞](#3-–∑–∞–≥—Ä—É–∑–∫–∞-–±—ç–∫–µ–Ω–¥–∞)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-pm2)
6. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx](#6-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx)
7. [SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç](#7-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
8. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞](#8-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
9. [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#9-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS

### –ó–∞–∫–∞–∑ VPS –Ω–∞ TimeWeb

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [timeweb.cloud](https://timeweb.cloud)
2. –ó–∞–∫–∞–∂–∏—Ç–µ VPS —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
   - **–û–°**: Ubuntu 22.04 LTS
   - **CPU**: –º–∏–Ω–∏–º—É–º 1 vCPU
   - **RAM**: –º–∏–Ω–∏–º—É–º 1 GB
   - **SSD**: –º–∏–Ω–∏–º—É–º 10 GB
   - **–¢–∞—Ä–∏—Ñ**: –æ—Ç 300 ‚ÇΩ/–º–µ—Å

3. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è VPS –ø–æ–ª—É—á–∏—Ç–µ:
   - IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
   - –õ–æ–≥–∏–Ω (–æ–±—ã—á–Ω–æ `root`)
   - –ü–∞—Ä–æ–ª—å

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –≤–≤–µ–¥–∏—Ç–µ `yes` –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

---

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
apt update && apt upgrade -y
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20

```bash
# –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π NodeSource
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Node.js
apt install -y nodejs

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é
node -v  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å v20.x.x
npm -v
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

```bash
# Git –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–¥–∞
apt install -y git

# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
apt install -y build-essential python3

# PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
npm install -g pm2

# Nginx –∫–∞–∫ reverse proxy
apt install -y nginx

# Certbot –¥–ª—è SSL
apt install -y certbot python3-certbot-nginx
```

---

## 3. –ó–∞–≥—Ä—É–∑–∫–∞ –±—ç–∫–µ–Ω–¥–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–æ–∑–¥–∞—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
adduser vox --disabled-password --gecos ""

# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –Ω–µ–≥–æ
su - vox
```

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –°–æ–∑–¥–∞—ë–º –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
mkdir -p ~/apps
cd ~/apps

# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à URL)
git clone https://github.com/–í–ê–®_–Æ–ó–ï–†–ù–ï–ô–ú/–í–ê–®–ï_–†–ï–ü–û.git vox-shop
cd vox-shop/backend
```

### –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ SFTP

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ FileZilla –∏–ª–∏ scp:
scp -r backend/ root@–≤–∞—à-ip:/home/vox/apps/vox-backend/
```

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd ~/apps/vox-shop/backend
npm install
```

### –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```bash
cp .env.example .env
nano .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª:

```env
PORT=3001

# –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á!
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=–≤–∞—à-—Å—É–ø–µ—Ä—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-64-—Å–∏–º–≤–æ–ª–∞

# –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞
ADMIN_EMAIL=admin@vox.ru
ADMIN_PASSWORD=–í–∞—à–°–∏–ª—å–Ω—ã–π–ü–∞—Ä–æ–ª—å123!

# URL –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
FRONTEND_URL=https://xatab4ik13-chic-looks-boutique-3236.twc1.net

# Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, Enter, `Ctrl+X`

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–∞–ø–∫–∞ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
mkdir -p data

# –ü–∞–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
mkdir -p uploads

# –ü–∞–ø–∫–∞ –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p logs
```

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
npm start
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "üöÄ VOX Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001" ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `Ctrl+C`

---

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2

```bash
cd ~/apps/vox-shop/backend

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start ecosystem.config.js

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2
pm2 save

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Ç root)
exit  # –≤—ã—Ö–æ–¥–∏–º –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è vox
pm2 startup
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç PM2
su - vox
pm2 save
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
pm2 status
pm2 logs vox-backend
```

---

## 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—ã–π–¥–∏—Ç–µ –≤ root –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª:

```bash
exit  # –µ—Å–ª–∏ –≤—ã –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º vox
nano /etc/nginx/sites-available/vox-api
```

–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–∑–∞–º–µ–Ω–∏—Ç–µ –¥–æ–º–µ–Ω –Ω–∞ —Å–≤–æ–π):

```nginx
server {
    listen 80;
    server_name api.–≤–∞—à-–¥–æ–º–µ–Ω.ru;  # –∏–ª–∏ IP-–∞–¥—Ä–µ—Å

    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
    client_max_body_size 50M;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/vox-api-access.log;
    error_log /var/log/nginx/vox-api-error.log;

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Node.js
    location / {
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
    location /uploads/ {
        alias /home/vox/apps/vox-shop/backend/uploads/;
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
}
```

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞—ë–º —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
ln -s /etc/nginx/sites-available/vox-api /etc/nginx/sites-enabled/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Nginx
systemctl reload nginx
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
curl http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å/api/health
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: {"status":"ok","timestamp":"..."}
```

---

## 7. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

### –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ–º–µ–Ω

–ù–∞–ø—Ä–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `api.vox-shop.ru`) –Ω–∞ IP –≤–∞—à–µ–≥–æ VPS —á–µ—Ä–µ–∑ A-–∑–∞–ø–∏—Å—å.

```bash
# –ü–æ–ª—É—á–∞–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Let's Encrypt
certbot --nginx -d api.–≤–∞—à-–¥–æ–º–µ–Ω.ru

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, –≤–≤–µ–¥–∏—Ç–µ email
# –í—ã–±–µ—Ä–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP ‚Üí HTTPS
```

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
certbot renew --dry-run

# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç cron-–∑–∞–¥–∞—á—É
```

---

## 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, —á—Ç–æ–±—ã –æ–Ω –æ–±—Ä–∞—â–∞–ª—Å—è –∫ –≤–∞—à–µ–º—É API.

### –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

–ù–∞ TimeWeb –≤ –ø–∞–ø–∫–µ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π:

```env
VITE_API_URL=https://api.–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ IP:
```env
VITE_API_URL=http://–≤–∞—à-ip:3001
```

### –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥

–§—Ä–æ–Ω—Ç–µ–Ω–¥ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `VITE_API_URL`. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —Å —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

---

## 9. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### PM2

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pm2 status

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs vox-backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart vox-backend

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop vox-backend

# –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ PM2
pm2 delete vox-backend
```

### Nginx

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
systemctl reload nginx

# –°—Ç–∞—Ç—É—Å
systemctl status nginx

# –õ–æ–≥–∏
tail -f /var/log/nginx/vox-api-error.log
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
cd ~/apps/vox-shop
git pull origin main
cd backend
npm install
pm2 restart vox-backend
```

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
cp ~/apps/vox-shop/backend/data/vox.db ~/backups/vox-$(date +%Y%m%d).db

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
cp ~/backups/vox-20240115.db ~/apps/vox-shop/backend/data/vox.db
pm2 restart vox-backend
```

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs vox-backend --lines 100

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat ~/apps/vox-shop/backend/.env

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é
cd ~/apps/vox-shop/backend
node src/index.js
```

### Nginx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 502 Bad Gateway

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ Node.js
pm2 status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ –ø–æ—Ä—Ç
netstat -tlnp | grep 3001

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart vox-backend
```

### –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ /uploads

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞
ls -la ~/apps/vox-shop/backend/uploads/

# –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
chmod -R 755 ~/apps/vox-shop/backend/uploads/
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs` –∏ `/var/log/nginx/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall: `ufw status`

–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ
